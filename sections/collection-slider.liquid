<div class="collection-slider-wrapper">
  <h2 class="slider-heading {{ section.settings.heading_alignment }}">{{ section.settings.heading }}</h2>
  <div class="collection-slider">
    {% for block in section.blocks %}
      {% assign link_url = block.settings.custom_link %}
      {% assign label = block.settings.custom_label %}
      <div class="collection-slide {{ section.settings.block_alignment }}">
        <a href="{{ link_url }}">
          <div class="icon-circle">
            {% if block.settings.icon %}
              <img src="{{ block.settings.icon | img_url: '100x100' }}" alt="{{ label }}" loading="lazy">
            {% endif %}
          </div>
          <p class="slide-label">
            {{ label }} 
      <!-- <span class="arrow-icon">âžœ</span> -->
          </p>
        </a>
      </div>
    {% endfor %}
  </div>
</div>

<style>
.collection-slider-wrapper {
  padding: 60px 40px;
  background-color: #f5f8fa;
}

.slider-heading {
  font-size: 1.5rem;
  margin-bottom: 20px;
}
.slider-heading.left {
  text-align: left;
}
.slider-heading.center {
  text-align: center;
}

.collection-slider {
  display: flex;
  flex-wrap: nowrap;
  justify-content: Center;
   margin-left: auto;
  margin-right: auto;
  gap: 50px;
  overflow-x: auto;
  padding: 10px 0px;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}

.collection-slide {
  flex: 0 0 auto;
  scroll-snap-align: start;
  width: 100px;
}

/* Block Alignment Options */
.collection-slide.center {
  text-align: center;
}
.collection-slide.left {
  text-align: left;
}

.icon-circle {
  background: linear-gradient(to bottom, #e9f2f9, #d4e9f7);
  border-radius: 50%;
  padding: 2px;
  width: 100px;
  height: 100px;
  margin: 0 auto 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.collection-slide.left .icon-circle {
  margin-left: 0;
}

.icon-circle img {
  width: 95px;
  height: 95px;
  object-fit: contain;
  display: block;
}

.slide-label {
  font-size: 0.9rem;
  color: #2e3a59;
  font-weight: 700;
  transition: color 0.3s ease;
  display: inline-block;
}
.collection-slide:hover .slide-label {
  color: #4f2aaa;
}

.arrow-icon {
  font-weight: 700;
  font-size: 0.9rem;
  display: inline-block;
  opacity: 0;
  transform: translateX(-4px);
  transition: all 0.3s ease;
  margin-left: 4px;
}
.collection-slide:hover .arrow-icon {
  opacity: 1;
  transform: translateX(0);
}

/* For mobile (screen size below 768px) */
@media (max-width: 767px) {
  .collection-slider-wrapper {
    padding: 50px 20px;
  }

  .icon-circle {
    width: 70px;
    height: 70px;
  }

  .icon-circle img {
    width: 60px;
    height: 60px;
  }
}


@media (max-width: 426px) {
  .collection-slider-wrapper {
    padding: 40px 16px;
  }

  .collection-slider {
    gap: 10px;
    justify-content: start;
  }

  .collection-slide {
    width: 90px;
  }

  .icon-circle {
    width: 65px;
    height: 65px;
  }

  .icon-circle img {
    width: 55px;
    height: 55px;
  }

  .slide-label {
    font-size: 0.65rem;
    line-height: 1.1;
  }
}

</style>

{% schema %}
{
  "name": "Collection Slider",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Slider Heading",
      "default": "Shop by Category"
    },
    {
      "type": "select",
      "id": "heading_alignment",
      "label": "Heading Alignment",
      "default": "center",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ]
    },
    {
      "type": "select",
      "id": "block_alignment",
      "label": "Block Alignment",
      "default": "center",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ]
    }
  ],
  "blocks": [
    {
      "type": "collection",
      "name": "Collection",
      "settings": [
        {
          "type": "text",
          "id": "custom_label",
          "label": "Custom Label"
        },
        {
          "type": "url",
          "id": "custom_link",
          "label": "Custom Link"
        },
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon Image"
        }
      ]
    }
  ],
  "max_blocks": 12,
  "presets": [
    {
      "name": "Collection Slider",
      "category": "Custom",
      "settings": {
        "heading_alignment": "left",
        "block_alignment": "left"
      },
      "blocks": [
        { "type": "collection" },
        { "type": "collection" },
        { "type": "collection" },
        { "type": "collection" },
        { "type": "collection" },
        { "type": "collection" }
      ]
    }
  ]
}
{% endschema %}
